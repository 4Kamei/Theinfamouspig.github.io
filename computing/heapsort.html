<html>
<head>
    <link rel="stylesheet" type="text/css" href="../style.css">
    <link rel="stylesheet" type="text/css" href="../computing.css">
</head>
<body id="body">
<header id="header">
    <div class="rectangle" id="topRect">
        <div id="spacer"> </div>
        <nav role='navigation'>
                    <span>
                        <a class="button"> Home </a>
                    </span>

                    <span>
                        <a class="button">  WebGL </a>
                    </span>

                    <span>
                        <a class="buttonClicked"> Sorting Algorithms </a>
                    </span>
        </nav>
    </div>
    <div id="compNavRect">
        <div id="spacer3" class="slideIn">
            <nav role='navigation'>
                    <span>
                        <a class="buttonSmall" href="bubbleSort.html"> Bubble Sort </a>
                    </span>
                    <span>
                        <a class="buttonSmallClicked"> Heap Sort </a>
                    </span>
            </nav>
        </div>
    </div>

</header>
<div id="spacer2"> </div>
<div class="content">
    <h4>
        What is Heap sort?
    </h4>

    Heap sort is a sorting algorithm that works by arranging the data into a <i>heap</i> data structure prior to sorting.


    <h4>
        What is a heap?
    </h4>

    A heap is a type of data structure, it works by storing the largest value at the top in what's called a 'node'. Each complete node has 2 child nodes, these contain values smaller than the parent node. The value of a child node will never be larger
    than the value of of the parent node.

    <br>

    <div align="center">
        <img src="http://sir.unl.edu/portal/bios/Binary-Heap-1b08b627.png">
    </div>

    Here is a sorted heap. We can confirm that this is a valid heap as all of the child nodes have values less than their parents.

    <h4>
        How does Heap sort work?
    </h4>

    Heap sort first takes the root value of the heap (the top value) and puts it in the resultant array. The heap is then reconstructed and the new root element is then put in the second slot in the array. This continues until the heap
    runs out of items, returning a sorted array.

    Heap sort has a worst-case efficiency of O(n log n) (n being the number of elements), this means as the number of elements increases the speed increases.
    Here is the graph of the worst-case efficiency, as the number of elements increases.
    <div align="center">
        <img src="nlogn.png" height="400px">
    </div>
    <br>

    <h4>
        How do you construct a heap?
    </h4>

    A heap is not stored as a tree, it is stored in an array. For example, if you consider the n-th element from an array, the
        <ul>
            <li>
                left child is located on the position n*2
            </li>
            <li>
                right child is located on the position n*2 + 1
            </li>
            <li>
                parent is located at &#8970;n/2&#8971; (n/2, rounded down, the &#8970; and &#8971; means 'floor function')
            </li>
        </ul>

    There are a couple of common operations involving heaps, these are:
        <ul>
            <li>
                heapify - This creates the heap
            </li>

            <li>
                insert - Inserts a value into the heap
            </li>

            <li>
                delete - Deletes an item from the heap
            </li>

            <li>
                extract-min - Extracts the minimum value, and removes it
            </li>

            <li>
                extract-max - Extracts the maximum value, and removes it
            </li>
        </ul>



    Here is a javascript implementation of a heapsort algorithm
    <div style="background: #cccccc;word-wrap: break-word;">
        <pre>
            <code>
var heapSort = (function () {
    function heapify(array, index, heapSize) {
        var left = 2 * index + 1,
            right = 2 * index + 2,
            largest = index;

        if (left < heapSize && array[left] > array[index])
            largest = left;

        if (right < heapSize && array[right] > array[largest])
            largest = right;

        if (largest !== index) {
            var temp = array[index];
            array[index] = array[largest];
            array[largest] = temp;
            heapify(array, largest, heapSize);
        }
    }

    function buildMaxHeap(array) {
        for (var i = Math.floor(array.length / 2); i >= 0; i -= 1) {
            heapify(array, i, array.length);
        }
        return array;
    }

    return function (array) {
        var size = array.length,
            temp;
        buildMaxHeap(array);
        for (var i = array.length - 1; i > 0; i -= 1) {
            temp = array[0];
            array[0] = array[i];
            array[i] = temp;
            size -= 1;
            heapify(array, 0, size);
        }
        return array;
    };
}());
</code>       </pre>
    </div>


</div>
</body>
</html>